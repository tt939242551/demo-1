{"version":3,"sources":["js/main.js"],"names":["writeCss","prefix","code","fn","domCode","document","querySelector","n","id","setInterval","innerHTML","Prism","highlight","substring","languages","css","styleTag","scrollTop","scrollHeight","length","window","clearInterval","call","writeMarkdown","markdown","domPaper","css1","css2","md","css3","createPaper","convertMarkdownToHtml","console","log","paper","createElement","content","className","appendChild","body","div","marked","markdownContainer","replaceWith"],"mappings":"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","file":"main.fb6bbcaf.js","sourceRoot":"..","sourcesContent":["/*把code写到#code和style标签里*/\r\nfunction writeCss(prefix, code, fn){\r\n  let domCode = document.querySelector('#code')\r\n  let n = 0\r\n  let id = setInterval(() => {\r\n    n += 1\r\n    domCode.innerHTML = Prism.highlight(prefix + code.substring(0, n), Prism.languages.css);\r\n    styleTag.innerHTML = prefix +  code.substring(0, n)\r\n    domCode.scrollTop = domCode.scrollHeight\r\n    if (n >= code.length) {\r\n      window.clearInterval(id)\r\n      fn && fn.call()\r\n    }\r\n  }, 10)\r\n}\r\nfunction writeMarkdown(markdown, fn){\r\n  let domPaper = document.querySelector('#paper>.content')\r\n  let n = 0\r\n  let id = setInterval(() => {\r\n    n += 1\r\n    domPaper.innerHTML = markdown.substring(0, n)\r\n    domPaper.scrollTop = domPaper.scrollHeight\r\n    if (n >= markdown.length) {\r\n      window.clearInterval(id)\r\n      fn && fn.call()\r\n    }\r\n  }, 30)\r\n}\r\n\r\nvar css1 = `/* \r\n * 面试官你好，我是XXX\r\n * 只用文字作做我介绍太单调了\r\n * 我就用代码来介绍吧\r\n * 首先准备一些样式\r\n */\r\n*{\r\n  transition: all 0.8s;\r\n}\r\nhtml{\r\n  color: rgb(222,222,222); background: rgb(0,43,54);\r\n}\r\n#code{\r\n  border: 1px solid #aaa;\r\n  padding: 16px;\r\n}\r\n/* 我需要一点代码高亮 */\r\n.token.selector{ color: rgb(133,153,0); }\r\n.token.property{ color: rgb(187,137,0); }\r\n.token.punctuation{ color: yellow; }\r\n.token.function{ color: rgb(42,161,152); }\r\n/* 加一个呼吸效果 */\r\n#code{\r\n  animation: breath 0.5s infinite alternate-reverse;\r\n}\r\n/* 现在正式开始 */\r\n/* 我需要一张白纸 */\r\n#code-wrapper{\r\n  width: 50%; left: 0; position: fixed; \r\n  height: 100%;\r\n}\r\n#paper > .content {\r\n display: block;\r\n}\r\n/* 于是我就可以在白纸上写字了，请看右边 */\r\n`\r\n\r\nvar css2 = `\r\n/* 接下来用一个优秀的库 marked.js\r\n * 把 Markdown 变成 HTML\r\n */\r\n`\r\nvar md = `\r\n# 自我介绍\r\n我叫 XXX\r\n1990 年 1 月出生\r\nXXX 学校毕业\r\n自学前端半年\r\n希望应聘前端开发岗位\r\n# 技能介绍\r\n熟悉 JavaScript CSS\r\n# 项目介绍\r\n1. XXX 轮播\r\n2. XXX 简历\r\n3. XXX 画板\r\n# 博客\r\n- QQ xxxxxxxx\r\n- Email xxxxxxxx\r\n- 手机 xxxxxxx\r\n- QQ xxxxxxxx\r\n- Email xxxxxxxx\r\n- 手机 xxxxxxx\r\n# 联系方式\r\n- QQ xxxxxxxx\r\n- Email xxxxxxxx\r\n- 手机 xxxxxxx\r\n# 联系方式\r\n- QQ xxxxxxxx\r\n- Email xxxxxxxx\r\n- 手机 xxxxxxx\r\n\r\n`\r\nlet css3 = `\r\n/*\r\n * 这就是我的会动的简历\r\n * 谢谢观看\r\n */\r\n`\r\n\r\nwriteCss('', css1, ()=>{ // writeCss call the function\r\n  createPaper(() => {\r\n    writeMarkdown(md, ()=> {\r\n      writeCss(css1, css2, ()=>{\r\n        convertMarkdownToHtml(()=>{\r\n          writeCss(css1 + css2, css3, ()=> {\r\n            console.log('完成')\r\n          })\r\n        })\r\n      })\r\n    })\r\n  })\r\n})\r\n\r\n\r\n\r\n\r\nfunction createPaper(fn){\r\n  var paper = document.createElement('div') \r\n  paper.id = 'paper'\r\n  var content = document.createElement('pre')\r\n  content.className = 'content'\r\n  paper.appendChild(content)\r\n  document.body.appendChild(paper)\r\n  fn && fn.call()\r\n}\r\n\r\nfunction convertMarkdownToHtml(fn){\r\n  var div = document.createElement('div')  \r\n  div.className = 'html markdown-body'\r\n  div.innerHTML = marked(md)\r\n  let markdownContainer = document.querySelector('#paper > .content')\r\n  markdownContainer.replaceWith(div)\r\n  fn && fn.call()\r\n}"]}