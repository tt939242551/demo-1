{"version":3,"sources":["js/main.js"],"names":["writeCss","prefix","code","fn","domCode","document","querySelector","n","id","setInterval","innerHTML","Prism","highlight","substring","languages","css","styleTag","scrollTop","scrollHeight","length","window","clearInterval","call","writeMarkdown","markdown","domPaper","css1","css2","md","css3","createPaper","convertMarkdownToHtml","console","log","paper","createElement","content","className","appendChild","body","div","marked","markdownContainer","replaceWith"],"mappings":"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","file":"main.fb6bbcaf.js","sourceRoot":"..","sourcesContent":["/*把code写到#code和style标签里*/\nfunction writeCss(prefix, code, fn){\n  let domCode = document.querySelector('#code')\n  let n = 0\n  let id = setInterval(() => {\n    n += 1\n    domCode.innerHTML = Prism.highlight(prefix + code.substring(0, n), Prism.languages.css);\n    styleTag.innerHTML = prefix +  code.substring(0, n)\n    domCode.scrollTop = domCode.scrollHeight\n    if (n >= code.length) {\n      window.clearInterval(id)\n      fn && fn.call()\n    }\n  }, 40)\n}\nfunction writeMarkdown(markdown, fn){\n  let domPaper = document.querySelector('#paper>.content')\n  let n = 0\n  let id = setInterval(() => {\n    n += 1\n    domPaper.innerHTML = markdown.substring(0, n)\n    domPaper.scrollTop = domPaper.scrollHeight\n    if (n >= markdown.length) {\n      window.clearInterval(id)\n      fn && fn.call()\n    }\n  }, 30)\n}\n\nvar css1 = `/* \n * 面试官你好，我是XXX\n * 只用文字作做我介绍太单调了\n * 我就用代码来介绍吧\n * 首先准备一些样式\n */\n\n*{\n  transition: all 1s;\n}\nhtml{\n  background: #eee;\n}\n#code{\n  border: 1px solid #aaa;\n  padding: 16px;\n}\n\n/* 我需要一点代码高亮 */\n\n.token.selector{ color: #690; }\n.token.property{ color: #905; }\n\n/* 加一个呼吸效果 */\n\n#code{\n  animation: breath 1s infinite alternate-reverse;\n}\n\n/* 现在正式开始 */\n\n/* 我需要一张白纸 */\n\n#code-wrapper{\n  width: 50%; left: 0; position: fixed; \n  height: 100%;\n}\n\n#paper > .content {\n display: block;\n}\n\n/* 于是我就可以在白纸上写字了，请看右边 */\n`\n\nvar css2 = `\n/* 接下来用一个优秀的库 marked.js\n * 把 Markdown 变成 HTML\n */\n\n`\nvar md = `\n# 自我介绍\n\n我叫 XXX\n1990 年 1 月出生\nXXX 学校毕业\n自学前端半年\n希望应聘前端开发岗位\n\n# 技能介绍\n\n熟悉 JavaScript CSS\n\n# 项目介绍\n\n1. XXX 轮播\n2. XXX 简历\n3. XXX 画板\n\n# 联系方式\n\n- QQ xxxxxxxx\n- Email xxxxxxxx\n- 手机 xxxxxxx\n\n# 联系方式\n\n- QQ xxxxxxxx\n- Email xxxxxxxx\n- 手机 xxxxxxx\n\n`\nlet css3 = `\n/*\n * 这就是我的会动的简历\n * 谢谢观看\n */\n`\n\nwriteCss('', css1, ()=>{ // writeCss call the function\n  createPaper(() => {\n    writeMarkdown(md, ()=> {\n      writeCss(css1, css2, ()=>{\n        convertMarkdownToHtml(()=>{\n          writeCss(css1 + css2, css3, ()=> {\n            console.log('完成')\n          })\n        })\n      })\n    })\n  })\n})\n\n\n\n\nfunction createPaper(fn){\n  var paper = document.createElement('div') \n  paper.id = 'paper'\n  var content = document.createElement('pre')\n  content.className = 'content'\n  paper.appendChild(content)\n  document.body.appendChild(paper)\n  fn && fn.call()\n}\n\nfunction convertMarkdownToHtml(fn){\n  var div = document.createElement('div')  \n  div.className = 'html markdown-body'\n  div.innerHTML = marked(md)\n  let markdownContainer = document.querySelector('#paper > .content')\n  markdownContainer.replaceWith(div)\n  fn && fn.call()\n}\n\n"]}